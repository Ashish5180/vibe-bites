{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/ashishyaduvanshi/Desktop/Vibe_Bites/client/app/login/page.js"],"sourcesContent":["'use client'\n\nimport React, { useState, useEffect } from 'react'\nimport { useRouter } from 'next/navigation'\nimport Link from 'next/link'\nimport Image from 'next/image'\nimport { Eye, EyeOff, Mail, Lock, User } from 'lucide-react'\nimport { useToast } from '../../components/Toaster'\n\nconst LoginPage = () => {\n  const [formData, setFormData] = useState({\n    email: '',\n    password: ''\n  })\n  const [showPassword, setShowPassword] = useState(false)\n  const [isLoading, setIsLoading] = useState(false)\n  const [isRegistering, setIsRegistering] = useState(false)\n  \n  const router = useRouter()\n  const { addToast } = useToast()\n\n  useEffect(() => {\n    // Check if user is already logged in\n    const token = localStorage.getItem('token')\n    if (token) {\n      router.push('/')\n    }\n  }, [router])\n\n  const handleInputChange = (e) => {\n    setFormData({\n      ...formData,\n      [e.target.name]: e.target.value\n    })\n  }\n\n  const handleSubmit = async (e) => {\n    e.preventDefault()\n    setIsLoading(true)\n\n    try {\n      const endpoint = isRegistering ? '/auth/register' : '/auth/login'\n      const response = await fetch(`${process.env.NEXT_PUBLIC_API_URL || 'http://localhost:5000/api'}${endpoint}`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(formData)\n      })\n\n      const data = await response.json()\n\n      if (data.success) {\n        localStorage.setItem('token', data.data.token)\n        addToast(\n          isRegistering \n            ? 'Registration successful! Please check your email for verification.' \n            : 'Login successful!',\n          'success'\n        )\n        \n        // Redirect based on user role\n        if (data.data.user.role === 'admin') {\n          router.push('/admin')\n        } else {\n          router.push('/')\n        }\n      } else {\n        addToast(data.message || 'An error occurred', 'error')\n      }\n    } catch (error) {\n      console.error('Auth error:', error)\n      addToast('Network error. Please try again.', 'error')\n    } finally {\n      setIsLoading(false)\n    }\n  }\n\n  const toggleMode = () => {\n    setIsRegistering(!isRegistering)\n    setFormData({ email: '', password: '' })\n  }\n\n  return (\n    <div className=\"min-h-screen bg-vibe-bg flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8\">\n      <div className=\"max-w-md w-full space-y-8\">\n        <div className=\"text-center\">\n          <div className=\"flex justify-center\">\n            <div className=\"relative w-32 h-16\">\n              <Image\n                src=\"/images/logo.jpeg\"\n                alt=\"VIBE BITES\"\n                fill\n                className=\"object-contain\"\n                priority\n              />\n            </div>\n          </div>\n          <h2 className=\"mt-6 text-3xl font-bold text-vibe-brown\">\n            {isRegistering ? 'Create Account' : 'Sign In'}\n          </h2>\n          <p className=\"mt-2 text-sm text-gray-600\">\n            {isRegistering \n              ? 'Join VIBE BITES and discover amazing snacks!' \n              : 'Welcome back to VIBE BITES!'\n            }\n          </p>\n        </div>\n\n        <div className=\"bg-white py-8 px-6 shadow-lg rounded-lg border border-vibe-cookie\">\n          <form className=\"space-y-6\" onSubmit={handleSubmit}>\n            {isRegistering && (\n              <>\n                <div className=\"grid grid-cols-2 gap-4\">\n                  <div>\n                    <label htmlFor=\"firstName\" className=\"block text-sm font-medium text-vibe-brown\">\n                      First Name\n                    </label>\n                    <div className=\"mt-1 relative\">\n                      <User className=\"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400\" />\n                      <input\n                        id=\"firstName\"\n                        name=\"firstName\"\n                        type=\"text\"\n                        required\n                        value={formData.firstName || ''}\n                        onChange={handleInputChange}\n                        className=\"appearance-none relative block w-full pl-10 pr-3 py-2 border border-vibe-cookie placeholder-gray-500 text-vibe-brown rounded-md focus:outline-none focus:ring-2 focus:ring-vibe-cookie focus:border-transparent\"\n                        placeholder=\"First Name\"\n                      />\n                    </div>\n                  </div>\n                  <div>\n                    <label htmlFor=\"lastName\" className=\"block text-sm font-medium text-vibe-brown\">\n                      Last Name\n                    </label>\n                    <div className=\"mt-1 relative\">\n                      <User className=\"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400\" />\n                      <input\n                        id=\"lastName\"\n                        name=\"lastName\"\n                        type=\"text\"\n                        required\n                        value={formData.lastName || ''}\n                        onChange={handleInputChange}\n                        className=\"appearance-none relative block w-full pl-10 pr-3 py-2 border border-vibe-cookie placeholder-gray-500 text-vibe-brown rounded-md focus:outline-none focus:ring-2 focus:ring-vibe-cookie focus:border-transparent\"\n                        placeholder=\"Last Name\"\n                      />\n                    </div>\n                  </div>\n                </div>\n              </>\n            )}\n\n            <div>\n              <label htmlFor=\"email\" className=\"block text-sm font-medium text-vibe-brown\">\n                Email Address\n              </label>\n              <div className=\"mt-1 relative\">\n                <Mail className=\"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400\" />\n                <input\n                  id=\"email\"\n                  name=\"email\"\n                  type=\"email\"\n                  autoComplete=\"email\"\n                  required\n                  value={formData.email}\n                  onChange={handleInputChange}\n                  className=\"appearance-none relative block w-full pl-10 pr-3 py-2 border border-vibe-cookie placeholder-gray-500 text-vibe-brown rounded-md focus:outline-none focus:ring-2 focus:ring-vibe-cookie focus:border-transparent\"\n                  placeholder=\"Enter your email\"\n                />\n              </div>\n            </div>\n\n            <div>\n              <label htmlFor=\"password\" className=\"block text-sm font-medium text-vibe-brown\">\n                Password\n              </label>\n              <div className=\"mt-1 relative\">\n                <Lock className=\"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400\" />\n                <input\n                  id=\"password\"\n                  name=\"password\"\n                  type={showPassword ? 'text' : 'password'}\n                  autoComplete={isRegistering ? 'new-password' : 'current-password'}\n                  required\n                  value={formData.password}\n                  onChange={handleInputChange}\n                  className=\"appearance-none relative block w-full pl-10 pr-10 py-2 border border-vibe-cookie placeholder-gray-500 text-vibe-brown rounded-md focus:outline-none focus:ring-2 focus:ring-vibe-cookie focus:border-transparent\"\n                  placeholder=\"Enter your password\"\n                />\n                <button\n                  type=\"button\"\n                  onClick={() => setShowPassword(!showPassword)}\n                  className=\"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600\"\n                >\n                  {showPassword ? (\n                    <EyeOff className=\"h-5 w-5\" />\n                  ) : (\n                    <Eye className=\"h-5 w-5\" />\n                  )}\n                </button>\n              </div>\n            </div>\n\n            {!isRegistering && (\n              <div className=\"flex items-center justify-between\">\n                <div className=\"flex items-center\">\n                  <input\n                    id=\"remember-me\"\n                    name=\"remember-me\"\n                    type=\"checkbox\"\n                    className=\"h-4 w-4 text-vibe-cookie focus:ring-vibe-cookie border-gray-300 rounded\"\n                  />\n                  <label htmlFor=\"remember-me\" className=\"ml-2 block text-sm text-gray-900\">\n                    Remember me\n                  </label>\n                </div>\n\n                <div className=\"text-sm\">\n                  <a href=\"#\" className=\"font-medium text-vibe-cookie hover:text-vibe-brown\">\n                    Forgot your password?\n                  </a>\n                </div>\n              </div>\n            )}\n\n            <div>\n              <button\n                type=\"submit\"\n                disabled={isLoading}\n                className=\"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-vibe-cookie hover:bg-vibe-brown focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-vibe-cookie disabled:opacity-50 disabled:cursor-not-allowed transition-colors\"\n              >\n                {isLoading ? (\n                  <div className=\"flex items-center\">\n                    <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2\"></div>\n                    {isRegistering ? 'Creating Account...' : 'Signing In...'}\n                  </div>\n                ) : (\n                  isRegistering ? 'Create Account' : 'Sign In'\n                )}\n              </button>\n            </div>\n          </form>\n\n          <div className=\"mt-6\">\n            <div className=\"relative\">\n              <div className=\"absolute inset-0 flex items-center\">\n                <div className=\"w-full border-t border-gray-300\" />\n              </div>\n              <div className=\"relative flex justify-center text-sm\">\n                <span className=\"px-2 bg-white text-gray-500\">\n                  {isRegistering ? 'Already have an account?' : \"Don't have an account?\"}\n                </span>\n              </div>\n            </div>\n\n            <div className=\"mt-6\">\n              <button\n                onClick={toggleMode}\n                className=\"w-full flex justify-center py-2 px-4 border border-vibe-cookie text-sm font-medium rounded-md text-vibe-cookie bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-vibe-cookie transition-colors\"\n              >\n                {isRegistering ? 'Sign In Instead' : 'Create New Account'}\n              </button>\n            </div>\n          </div>\n\n          <div className=\"mt-6 text-center\">\n            <Link \n              href=\"/\" \n              className=\"text-sm text-vibe-cookie hover:text-vibe-brown transition-colors\"\n            >\n              ← Back to Home\n            </Link>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default LoginPage "],"names":[],"mappings":"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","debugId":null}}]
}